<div>
    <app-initial-values [model]="initialValues" [disable]="true"></app-initial-values>
    <app-mortgage *ngFor="let contract of mortgageService.mortgages" [model]="contract">
        <button mat-button *ngIf="!contract.mortgage.started" (click)="mortgageService.removeMortgage(contract)">Remove this mortgage</button>
    </app-mortgage>
    <br />
    <div *ngIf="!retired">

        <app-contribution account="RRSP" [model]="summary.thisYear.rrsp"></app-contribution>
        <app-contribution account="TFSA" [model]="summary.thisYear.tfsa"></app-contribution>
        <br/>
        <mat-form-field>
            <input matInput placeholder="Income" type="number" [(ngModel)]="income">
        </mat-form-field>

    </div>
    <div *ngIf="retired">
        <mat-form-field *ngIf="initialValues.taxableValue> 0">
            <input matInput placeholder="Withdraw from taxable" type="number" [(ngModel)]="incomeTax">
        </mat-form-field>
        <mat-form-field *ngIf="initialValues.tfsaValue> 0">
            <input matInput placeholder="Withdraw from TFSA" type="number" [(ngModel)]="incomeTFSA">
        </mat-form-field>
        <mat-form-field *ngIf="initialValues.rrspValue> 0">
            <input matInput placeholder="Withdraw from RRSP" type="number" [(ngModel)]="incomeRRSP">
        </mat-form-field>
    </div>

    <button mat-button class="mat-elevation-z8" (click)="addYear()" style="margin-top:20px;">Add Year</button>
    <button mat-button class="mat-elevation-z8" *ngIf="!retired" (click)="retire()" style="margin-top:20px;margin-left:20px;">Retire</button>
    <button mat-button class="mat-elevation-z8" (click)="mortgageService.addMortgage()" style="margin-top:20px;margin-left:20px;">Add Mortgage</button>
</div>